"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _http = _interopRequireDefault(require("http"));

var _middleware = require("./middleware");

const assetsMatch = /^\/assets\//;

_http.default.createServer((req, res) => {
  if (assetsMatch.test(req.url)) {
    req.url = req.url.slice(7);
    (0, _middleware.assets)(req, res, notFound);
  } else {
    (0, _middleware.routes)(req, res, notFound);
  }

  function notFound() {
    res.end("Not Found");
  }
}).listen(process.env.PORT || (process.env.NODE_ENV === "production" ? 3000 : 0));